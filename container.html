<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Container Number Validator</title>
    <meta name="robots" content="noindex, nofollow">
    <style>
        body { font-family: Arial, sans-serif; margin: 50px; }
        input, button { padding: 8px; font-size: 16px; }
        .result { margin-top: 20px; font-weight: bold; }
        .valid { color: green; }
        .invalid { color: red; }
    </style>
</head>
<body>
    <h1>Container Number Validator (ISO 6346)</h1>
    <form id="containerForm">
        <label for="containerNumber">Container Number:</label>
        <input type="text" id="containerNumber" name="containerNumber" placeholder="e.g., ABCD1234567" required>
        <button type="submit">Validate</button>
    </form>
    <div class="result" id="result"></div>

    <script>
        function validateContainerNumber(number) {
            number = number.replace(/\s+/g, '').toUpperCase();

            // ISO 6346 format: 4 letters + 6 digits + 1 check digit
            if (!/^[A-Z]{4}\d{7}$/.test(number)) {
                return false;
            }

            // Letter values according to ISO 6346
            const letterValues = {
                A:10,B:12,C:13,D:14,E:15,F:16,G:17,H:18,I:19,J:20,
                K:21,L:23,M:24,N:25,O:26,P:27,Q:28,R:29,S:30,T:31,
                U:32,V:34,W:35,X:36,Y:37,Z:38
            };

            let sum = 0;
            for (let i = 0; i < 10; i++) {
                const char = number[i];
                const value = isNaN(char) ? letterValues[char] : parseInt(char, 10);
                sum += value * Math.pow(2, i);
            }

            const checkDigit = sum % 11 % 10;
            return checkDigit === parseInt(number[10], 10);
        }

        document.getElementById('containerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const number = document.getElementById('containerNumber').value;
            const resultDiv = document.getElementById('result');

            if (validateContainerNumber(number)) {
                resultDiv.textContent = 'Valid container number ✅';
                resultDiv.className = 'result valid';
            } else {
                resultDiv.textContent = 'Invalid container number ❌';
                resultDiv.className = 'result invalid';
            }
        });
    </script>
</body>
</html>
